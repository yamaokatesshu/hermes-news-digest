<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page_title }} | AI-Generated News Digest</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-gray-900 text-gray-200">

    <div class="container mx-auto px-4 py-8">

        <!-- Header -->
        <header class="text-center mb-12">
            <h1 class="text-5xl font-bold text-white mb-2">{{ page_title }}</h1>
            <p class="text-lg text-blue-400">An AI-curated digest on your area of interest. Updated: {{ generation_date }}</p>
        </header>

        <!-- Main Content Grid -->
        <main class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">

            {% for item in items %}
                {% if item.type == 'article' %}
                <!-- News Article Tile -->
                <a href="{{ item.data.URL }}" target="_blank" rel="noopener noreferrer" class="block bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-blue-500/50 transform hover:-translate-y-1 transition-all duration-300 group">
                    {% if item.data.Image_Path and item.data.Image_Path != 'download_failed' %}
                    <img class="w-full h-48 object-cover" src="{{ item.data.Image_Path }}" alt="{{ item.data.Image_Alt_Text }}">
                    {% else %}
                    <div class="w-full h-48 bg-gray-700 flex items-center justify-center">
                        <span class="text-gray-500">No Image</span>
                    </div>
                    {% endif %}
                    <div class="p-5">
                        <h2 class="text-xl font-bold text-white mb-2 group-hover:text-blue-400 transition-colors duration-300">{{ item.data.Title }}</h2>
                        <p class="text-gray-400 text-sm mb-3">{{ item.data.Image_Caption }}</p>
                        <p class="text-gray-500 text-xs">Relevance: {{ item.data.Reason }}</p>
                    </div>
                </a>
                {% elif item.type == 'ad' %}
                <!-- Ad Tile -->
                <div class="bg-gray-800 rounded-lg shadow-lg flex items-center justify-center p-4">
                    {{ item.data | safe }}
                </div>
                {% endif %}
            {% endfor %}

        </main>

        <!-- Footer -->
        <footer class="text-center mt-16 text-gray-600">
            <p>Generated by Project Hermes.</p>
        </footer>

    </div>

</body>
</html>
